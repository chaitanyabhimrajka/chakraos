@base = http://127.0.0.1:8000
@company = ALAB
@inquiry_id = 7635645d-5930-47fb-bcec-a74932fb1cd2
@quotation_id = d38b88dc-3fda-4336-96e6-a9b2ab87502d

### Health check
GET http://127.0.0.1:8000/health

### List inquiries
GET http://127.0.0.1:8000/inquiries

### Create inquiry
POST http://127.0.0.1:8000/inquiries
Content-Type: application/json

{
  "source": "form",
  "raw_subject": "Need quotation",
  "raw_body": "500L acetone",
  "from_email": "buyer@amitlabs.com",
  "company_code": "ALAB"
}

### Create a new inquiry
POST http://127.0.0.1:8000/inquiries
Content-Type: application/json

{
  "company_code": "AMITLABS",
  "description": "Need quotation for 500 units of chemical X"
}

### List all inquiries
GET http://127.0.0.1:8000/inquiries

### Create inquiry (works)
POST http://127.0.0.1:8000/inquiries
Content-Type: application/json

{
  "source": "form",
  "raw_subject": "Need quotation",
  "raw_body": "500L acetone",
  "from_email": "buyer@amitlabs.com",
  "company_code": "ALAB"
}


### Ingest (natural language → inquiry)
POST http://127.0.0.1:8000/inquiries/ingest
Content-Type: application/json

{
  "company_code": "ALAB",
  "source": "email",
  "from_email": "buyer@amitlabs.com",
  "text": "Hi team, please quote 500 L acetone technical grade delivered Jaipur by Friday. Need MSDS and best price."
}

### List inquiries
GET http://127.0.0.1:8000/inquiries?company_code=ALAB


### Ingest (runs parser → fills extraction_json)
POST https://chakraos-api-656857229129.asia-south1.run.app/inquiries/ingest
Content-Type: application/json

{
  "company_code": "ALAB",
  "source": "email",
  "from_email": "buyer@amitlabs.com",
  "text": "Please quote 500 L benzene technical grade delivered Jaipur by Friday."
}




GET https://chakraos-api-656857229129.asia-south1.run.app/inquiries?company_code=ALAB

### make a draft quotation directly
POST http://127.0.0.1:8000/quotations
Content-Type: application/json

{
  "company_code": "ALAB",
  "currency": "INR",
  "items": [
    { "description": "Benzene 500 L Jaipur", "qty": 500, "uom": "L", "unit_price": 120.5 }
  ]
}

### list quotations for ALAB
GET {{base}}/quotations?company_code={{company}}

### get a quotation
GET {{base}}/quotations/{{quotation_id}}

### turn an inquiry into a quotation
POST {{base}}/inquiries/{{inquiry_id}}/to-quotation

### list quotations for ALAB
GET http://127.0.0.1:8000/quotations?company_code=ALAB